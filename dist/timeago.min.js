!function(n,e){"object"==typeof module&&module.exports?module.exports=e(n):n.timeago=e(n)}("undefined"!=typeof window?window:this,function(){var n=function(n){var e={},t=0,r="en",o=10,i=60,a=3600,u=86400,s=2592e3,c=31536e3,f=function(n){for(var e={},t=null,r=0;r<n.length;r++)t=n[r],e[t[0]]=[t[1],t[2]];return e},A="JUST_NOW",d="SECOND_AGO",g="A_MINUTE_AGO",_="MINUTES_AGO",m="AN_HOUR_AGO",l="HOURS_AGO",O="A_DAY_AGO",h="DAYS_AGO",p="A_MONTH_AGO",G="MONTHS_AGO",T="A_YEAR_AGO",v="YEARS_AGO",w={en:f([[A,"just now","a while"],[d,"%s seconds ago","in %s seconds"],[g,"1 minute ago","in 1 minute"],[_,"%s minutes ago","in %s minutes"],[m,"1 hour ago","in 1 hour"],[l,"%s hours ago","in %s hours"],[O,"1 day ago","in 1 day"],[h,"%s days ago","in %s days"],[p,"1 month ago","in 1 month"],[G,"%s months ago","in %s months"],[T,"1 year ago","in 1 year"],[v,"%s years ago","in %s years"]]),zh_CN:f([[A,"刚刚","片刻后"],[d,"%s秒前","%s秒后"],[g,"1分钟前","1分钟后"],[_,"%s分钟前","%s分钟后"],[m,"1小时前","1小时后"],[l,"%s小时前","%s小时后"],[O,"1天前","1天后"],[h,"%s天前","%s天后"],[p,"1月前","1月后"],[G,"%s月前","%s月后"],[T,"1年前","1年后"],[v,"%s年前","%s年后"]])},y=function(e){var t=new Date;return n&&(t=M(n)),(t.getTime()-M(e).getTime())/1e3},N=function(n,e){w[e]||(e=r);var t=w[e],f=0;return 0>n&&(f=1),n=Math.abs(n),o>n?t[A][f]:i>n?E(t[d][f],U(n)):2*i>n?t[g][f]:a>n?E(t[_][f],U(n/i)):2*a>n?t[m][f]:24*a>n?E(t[l][f],U(n/a)):2*u>n?t.A_DAY_AGO[f]:30*u>n?E(t[h][f],U(n/u)):2*s>n?t[p][f]:12*s>n?E(t[G][f],U(n/s)):2*c>n?t[T][f]:E(t[v][f],U(n/c))},D=function(n,e){return N(y(n),e)},S=function(n,e){w[n]=e},M=function(n){if(n instanceof Date)return n;if(isNaN(n)){if(/^\d+$/.test(n))return new Date(U(n,10));var e=(n||"").trim();return e=e.replace(/\.\d+/,""),e=e.replace(/-/,"/").replace(/-/,"/"),e=e.replace(/T/," ").replace(/Z/," UTC"),e=e.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)}return new Date(U(n))},U=function(n){return parseInt(n)},E=function(n,e){return n.replace("%s",e)},H=function(n){return void 0!==n.length},Y=function(n,e){return n%=e,n=n?e-n:e},b=function(n){return i>n?1:a>n?Y(n,i):u>n?Y(n,a):s>n?Y(n,u):c>n?Y(n,s):Y(n,c)},R=function(n,t,r,o){var i=y(t);n.innerHTML=N(i,r),e["k"+o]=setTimeout(function(){R(n,t,r,o)},1e3*b(i))},C="data-timeago",I=function(n){return n.getAttribute?n.getAttribute(C):n.attr?n.attr(C):void 0},$=function(n,e){H(n)||(n=[n]);for(var r=0;r<n.length;r++)t++,R(n[r],I(n[r]),e,t)},j=function(){for(var n in e)clearTimeout(e[n]);e={}};return{format:D,register:S,render:$,cancel:j}};return n});