!function(e,t){"object"==typeof module&&module.exports?module.exports=t(e):e.timeago=t(e)}("undefined"!=typeof window?window:this,function(){var e=function(e,t){var n={},a=0;return t||(t="en"),SEC_ARRAY=[60,60,24,7,365/7/12,12],SEC_ARRAY_LEN=6,locales={en:[["just now","a while"],["%s seconds ago","in %s seconds"],["1 minute ago","in 1 minute"],["%s minutes ago","in %s minutes"],["1 hour ago","in 1 hour"],["%s hours ago","in %s hours"],["1 day ago","in 1 day"],["%s days ago","in %s days"],["1 week ago","in 1 week"],["%s weeks ago","in %s weeks"],["1 month ago","in 1 month"],["%s months ago","in %s months"],["1 year ago","in 1 year"],["%s years ago","in %s years"]],pt_BR:[["há pouco","daqui um pouco"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]],zh_CN:[["刚刚","片刻后"],["%s秒前","%s秒后"],["1分钟前","1分钟后"],["%s分钟前","%s分钟后"],["1小时前","1小时后"],["%s小时前","%s小时后"],["1天前","1天后"],["%s天前","%s天后"],["1周前","1周后"],["%s周前","%s周后"],["1月前","1月后"],["%s月前","%s月后"],["1年前","1年后"],["%s年前","%s年后"]]},diff_sec=function(t){var n=new Date;return e&&(n=toDate(e)),(n.getTime()-toDate(t).getTime())/1e3},format_diff=function(e,n){locales[n]||(n=t);var a=(locales[n],0),s=0;for(e<0&&(a=1),e=Math.abs(e);e>=SEC_ARRAY[s]&&s<SEC_ARRAY_LEN;s++)e/=SEC_ARRAY[s];return e=toInt(e),s*=2,e>(0===s?9:1)&&(s+=1),locales[n][s][a].replace("%s",e)},format=function(e,t){return format_diff(diff_sec(e),t)},register=function(e,t){locales[e]=t},toDate=function(e){if(e instanceof Date)return e;if(isNaN(e)){if(/^\d+$/.test(e))return new Date(toInt(e,10));var t=(e||"").trim();return t=t.replace(/\.\d+/,""),t=t.replace(/-/,"/").replace(/-/,"/"),t=t.replace(/T/," ").replace(/Z/," UTC"),t=t.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)}return new Date(toInt(e))},toInt=function(e){return parseInt(e)},left_sec=function(e,t){return e%=t,e=e?t-e:t,toInt(e)},next_interval=function(e){for(var t=1,n=0,a=e;e>=SEC_ARRAY[n]&&n<SEC_ARRAY_LEN;n++)e/=SEC_ARRAY[n],t*=SEC_ARRAY[n];return left_sec(a,t)},do_render=function(e,t,a,s){var o=diff_sec(t);e.innerHTML=format_diff(o,a),n["k"+s]=setTimeout(function(){do_render(e,t,a,s)},1e3*next_interval(o))},attr="data-timeago",get_date_attr=function(e){return e.getAttribute?e.getAttribute(attr):e.attr?e.attr(attr):void 0},render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0;n<e.length;n++)a++,do_render(e[n],get_date_attr(e[n]),t,a)},cancel=function(){for(var e in n)clearTimeout(n[e]);n={}},setLocale=function(e){t=e},{format:format,register:register,render:render,cancel:cancel,setLocale:setLocale}};return e});