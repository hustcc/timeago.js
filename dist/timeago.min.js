!function(t,e){"object"==typeof module&&module.exports?module.exports=e(t):t.timeago=e(t)}("undefined"!=typeof window?window:this,function(){function t(t,e){var r=0,o=0;for(t<0&&(r=1),t=Math.abs(t);t>=p[o]&&o<h;o++)t/=p[o];return t=n(t),o*=2,t>(0===o?9:1)&&(o+=1),l[e](t,o)[r].replace("%s",t)}function e(t){if(t instanceof Date)return t;if(isNaN(t)){if(/^\d+$/.test(t))return new Date(n(t,10));var e=(t||"").trim();return e=e.replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)}return new Date(n(t))}function n(t){return parseInt(t)}function r(t,e){return t%=e,t=t?e-t:e,Math.ceil(t)}function o(t,n){return(e(t)-e(n).getTime())/1e3}function i(t){for(var e=1,n=0,o=t;t>=p[n]&&n<h;n++)t/=p[n],e*=p[n];return r(o,e)}function a(t){return t.getAttribute?t.getAttribute(w):t.attr?t.attr(w):void 0}function u(t,e){this.timers=Object.create(null),this.defaultLocale=t||"en",this.nowDate=e}function c(t,e){return new u(t,e)}var f=0,s=["second","minute","hour","day","week","month","year"],d=["秒","分钟","小时","天","周","月","年"],l={en:function(t,e){if(0===e)return["just now","a while"];var n=s[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var n=d[parseInt(e/2)];return[t+n+"前",t+n+"后"]}},p=[60,60,24,7,365/7/12,12],h=6,w="datetime";return u.prototype.cancel=function(){for(var t in this.timers)clearTimeout(this.timers[t]);this.timers={}},u.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0;n<t.length;n++)this.doRender(t[n],a(t[n]),e,++f)},u.prototype.format=function(e,n){return t(o(this.getNowDate(),e),this.validateAndGetLocale(n))},u.prototype.setLocale=function(t){this.defaultLocale=t},u.prototype.doRender=function(e,n,r,a){var u=o(this.getNowDate(),n),c=this;e.innerHTML=t(u,this.validateAndGetLocale(r)),this.timers["k"+a]=setTimeout(function(){c.doRender(e,n,r,a)},1e3*i(u))},u.prototype.getNowDate=function(){return this.nowDate?e(this.nowDate):new Date},u.prototype.validateAndGetLocale=function(t){return l[t]?t:this.defaultLocale},c.register=function(t,e){l[t]=e},c});