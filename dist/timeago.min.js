!function(e,t){"object"==typeof module&&module.exports?module.exports=t(e):e.timeago=t(e)}("undefined"!=typeof window?window:this,function(){function e(e){if(e instanceof Date)return e;if(isNaN(e)){if(/^\d+$/.test(e))return new Date(t(e,10));var n=(e||"").trim();return n=n.replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/T/," ").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(n)}return new Date(t(e))}function t(e){return parseInt(e)}function n(e,t){return e%=t,e=e?t-e:t,Math.ceil(e)}function r(t,n){return(e(t)-e(n).getTime())/1e3}function i(e){for(var t=1,r=0,i=e;e>=l[r]&&r<h;r++)e/=l[r],t*=l[r];return n(i,t)}function u(e){return e.getAttribute?e.getAttribute(p):e.attr?e.attr(p):void 0}function o(n,o){function a(){return o?e(o):new Date}function f(e,r){d[r]||(r=n);var i=0,u=0;for(e<0&&(i=1),e=Math.abs(e);e>=l[u]&&u<h;u++)e/=l[u];return e=t(e),u*=2,e>(0===u?9:1)&&(u+=1),d[r](e,u)[i].replace("%s",e)}function s(e,t,n,u){var o=r(a(),t);e.innerHTML=f(o,n),p["k"+u]=setTimeout(function(){s(e,t,n,u)},1e3*i(o))}var p={};return n||(n="en"),this.format=function(e,t){return f(r(a(),e),t)},this.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0;n<e.length;n++)s(e[n],u(e[n]),t,++c)},this.cancel=function(){for(var e in p)clearTimeout(p[e]);p={}},this.setLocale=function(e){n=e},this}function a(e,t){return new o(e,t)}var c=0,f=["second","minute","hour","day","week","month","year"],s=["秒","分钟","小时","天","周","月","年"],d={en:function(e,t){if(0===t)return["just now","a while"];var n=f[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=s[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},l=[60,60,24,7,365/7/12,12],h=6,p="datetime";return a.register=function(e,t){d[e]=t},a});