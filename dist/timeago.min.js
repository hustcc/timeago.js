!function(e,t){"object"==typeof module&&module.exports?module.exports=t(e):e.timeago=t(e)}("undefined"!=typeof window?window:this,function(){function e(e){var t,n;for(n in m)if(m[n]===e){t=n;break}return t}function t(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(n(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(n(e))}function n(e){return parseInt(e)}function r(e,t,r){t=s[t]?t:s[r]?r:"en";var o=0,a=e<0?1:0;for(e=Math.abs(e);e>=l[o]&&o<p;o++)e/=l[o];return e=n(e),o*=2,e>(0===o?9:1)&&(o+=1),s[t](e,o)[a].replace("%s",e)}function o(e,n){return n=n?t(n):new Date,(n-t(e))/1e3}function a(e){for(var t=1,n=0,r=Math.abs(e);e>=l[n]&&n<p;n++)e/=l[n],t*=l[n];return r%=t,r=r?t-r:t,Math.ceil(r)}function i(e){return e.dataset.timeago?e.dataset.timeago:e.getAttribute?e.getAttribute(h):e.attr?e.attr(h):void 0}function u(e,t){this.nowDate=e,this.defaultLocale=t||"en"}function c(e,t){return new u(e,t)}var f="second_minute_hour_day_week_month_year".split("_"),d="秒_分钟_小时_天_周_月_年".split("_"),s={en:function(e,t){if(0===t)return["just now","right now"];var n=f[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=d[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},l=[60,60,24,7,365/7/12,12],p=6,h="datetime",m={};return u.prototype.doRender=function(t,n,i){var u=o(n,this.nowDate),c=this;delete m[e(t)],t.innerHTML=r(u,i,this.defaultLocale),m[setTimeout(function(){c.doRender(t,n,i)},Math.min(1e3*a(u),2147483647))]=t},u.prototype.format=function(e,t){return r(o(e,this.nowDate),t,this.defaultLocale)},u.prototype.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0,r=e.length;n<r;n++)this.doRender(e[n],i(e[n]),t)},u.prototype.setLocale=function(e){this.defaultLocale=e},c.register=function(e,t){s[e]=t},c.cancel=function(t){var n;if(t&&(n=e(t)))clearTimeout(n),delete m[n];else{for(var r in m)clearTimeout(r);m={}}},c});