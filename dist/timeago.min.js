!function(t,e){"object"==typeof module&&module.exports?(module.exports=e(t),module.exports.default=module.exports):t.timeago=e(t)}("undefined"!=typeof window?window:this,function(){function t(t){return t instanceof Date?t:isNaN(t)?/^\d+$/.test(t)?new Date(e(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(t)):new Date(e(t))}function e(t){return parseInt(t)}function n(t,n,r){n=f[n]?n:f[r]?r:"en";var o=0,a=t<0?1:0;for(t=Math.abs(t);t>=s[o]&&o<l;o++)t/=s[o];return t=e(t),o*=2,t>(0===o?9:1)&&(o+=1),f[n](t,o)[a].replace("%s",t)}function r(e,n){return n=n?t(n):new Date,(n-t(e))/1e3}function o(t){for(var e=1,n=0,r=Math.abs(t);t>=s[n]&&n<l;n++)t/=s[n],e*=s[n];return r%=e,r=r?e-r:e,Math.ceil(r)}function a(t){return t.dataset.timeago?t.dataset.timeago:t.getAttribute?t.getAttribute(p):t.attr?t.attr(p):void 0}function i(t,e){this.nowDate=t,this.defaultLocale=e||"en"}function u(t,e){return new i(t,e)}var c="second_minute_hour_day_week_month_year".split("_"),d="秒_分钟_小时_天_周_月_年".split("_"),f={en:function(t,e){if(0===e)return["just now","right now"];var n=c[parseInt(e/2)];return t>1&&(n+="s"),[t+" "+n+" ago","in "+t+" "+n]},zh_CN:function(t,e){if(0===e)return["刚刚","片刻后"];var n=d[parseInt(e/2)];return[t+n+"前",t+n+"后"]}},s=[60,60,24,7,365/7/12,12],l=6,p="datetime",h=[];return i.prototype.doRender=function(t,e,a){var i=r(e,this.nowDate),u=this;t.innerHTML=n(i,a,this.defaultLocale),h.push(setTimeout(function(){u.doRender(t,e,a)},Math.min(1e3*o(i),2147483647)))},i.prototype.format=function(t,e){return n(r(t,this.nowDate),e,this.defaultLocale)},i.prototype.render=function(t,e){void 0===t.length&&(t=[t]);for(var n=0,r=t.length;n<r;n++)this.doRender(t[n],a(t[n]),e)},i.prototype.cancel=function(){for(var t=0,e=h.length;t<e;t++)clearTimeout(h[t]);h=[]},i.prototype.setLocale=function(t){this.defaultLocale=t},u.register=function(t,e){f[t]=e},u});